[gd_scene load_steps=8 format=3 uid="uid://y254o22e0jur"]

[ext_resource type="Script" path="res://Enemies/Enemy.gd" id="1_1tkjx"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_f6vnx"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_730gq"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_vp1y6"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_pchld"]
bg_color = Color(0.0117647, 0.0117647, 0.0117647, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rvff8"]
bg_color = Color(1, 0.0117647, 0, 1)

[sub_resource type="ViewportTexture" id="ViewportTexture_orv03"]
viewport_path = NodePath("healthBar/SubViewport")

[node name="Enemy" type="CharacterBody3D" groups=["Enemies"]]
collision_layer = 2
collision_mask = 5
up_direction = Vector3(0, 0, -1)
script = ExtResource("1_1tkjx")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
material_override = SubResource("StandardMaterial3D_f6vnx")
mesh = SubResource("CapsuleMesh_730gq")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_vp1y6")

[node name="eyes" type="Node3D" parent="."]

[node name="RayCast3D" type="RayCast3D" parent="eyes"]
target_position = Vector3(0, 0, -1000)
collision_mask = 4

[node name="healthBar" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.39593, 0)

[node name="SubViewport" type="SubViewport" parent="healthBar"]
size = Vector2i(311, 22)
size_2d_override = Vector2i(311, 22)
render_target_update_mode = 4

[node name="ProgressBar" type="ProgressBar" parent="healthBar/SubViewport"]
top_level = true
custom_minimum_size = Vector2(311, 22)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -155.5
offset_top = -13.5
offset_right = 155.5
offset_bottom = 13.5
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/background = SubResource("StyleBoxFlat_pchld")
theme_override_styles/fill = SubResource("StyleBoxFlat_rvff8")
max_value = 200.0

[node name="Sprite3D" type="Sprite3D" parent="healthBar"]
billboard = 1
texture = SubResource("ViewportTexture_orv03")
